<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <!-- 引入样式 -->
    <link rel="stylesheet" href="https://unpkg.com/element-ui/lib/theme-chalk/index.css">
    <title>Title</title>
</head>
<body>
<div id="app">
    <!--    <h1>hello manager</h1>-->
    <!--    <h3>销售人员信息</h3>-->
    <!--    <table border="1">-->
    <!--        <tr>-->
    <!--            <th>姓名</th>-->
    <!--            <th>工号</th>-->
    <!--            <th>性别</th>-->
    <!--            <th>电话</th>-->
    <!--            <th>管理订单</th>-->
    <!--            <th>管理客户</th>-->
    <!--        </tr>-->
    <!--        <tr>-->
    <!--            <td>zzy</td>-->
    <!--            <td>20040103</td>-->
    <!--            <td>男</td>-->
    <!--            <td>1470000</td>-->
    <!--            <td><a href="#">点我查看</a></td>-->
    <!--            <td><a href="#">点我查看</a></td>-->
    <!--        </tr>-->
    <!--    </table>-->

    <!--    <hr>-->

    <!--    <table border="1">-->


    <!--    </table>-->

    <template>
        <el-button @click="resetDateFilter">清除日期过滤器</el-button>
        <el-button @click="clearFilter">清除所有过滤器</el-button>
        <el-table
                ref="filterTable"
                :data="tableData"
                style="width: 100%"
                >

            <!--            <el-table-column-->
            <!--                    prop="date"-->
            <!--                    label="日期"-->
            <!--                    sortable-->
            <!--                    width="180"-->
            <!--                    column-key="date"-->
            <!--                    :filters="[{text: '2016-05-01', value: '2016-05-01'}, {text: '2016-05-02', value: '2016-05-02'}, {text: '2016-05-03', value: '2016-05-03'}, {text: '2016-05-04', value: '2016-05-04'}]"-->
            <!--                    :filter-method="filterHandler"-->
            <!--            >-->
            <!--            </el-table-column>-->
            <el-table-column type="index"
                             width="50">
            </el-table-column>
            <el-table-column
                    prop="sale_name"
                    label="姓名"
                    width="180">
            </el-table-column>
            <el-table-column
                    prop="sale_id"
                    label="工号"
                    width="180">
            </el-table-column>
            <el-table-column
                    prop="sale_sex"
                    label="性别"
                    width="120">
            </el-table-column>
            <el-table-column
                    prop="sale_phone"
                    label="电话"
                    width="180">
            </el-table-column>
            <el-table-column
                    prop="mana_ord"
                    label="管理订单"
                    width="180">
                <el-link href="https://www.baidu.com" target="_blank">查看详情</el-link>
            </el-table-column>
            <el-table-column
                    prop="mana_ges"
                    label="管理客户"
                    width="180">
                <el-link href="https://www.baidu.com" target="_blank">查看详情</el-link>
            </el-table-column>
            <!--            <el-table-column-->
            <!--                    prop="address"-->
            <!--                    label="地址"-->
            <!--                    :formatter="formatter">-->
            <!--            </el-table-column>-->
<!--            <el-table-column-->
<!--                    prop="tag"-->
<!--                    label="标签"-->
<!--                    width="100"-->
<!--                    :filters="[{ text: '家', value: '家' }, { text: '公司', value: '公司' }]"-->
<!--                    :filter-method="filterTag"-->
<!--                    filter-placement="bottom-end">-->
<!--                <template slot-scope="scope">-->
<!--                    <el-tag-->
<!--                            :type="scope.row.tag === '家' ? 'primary' : 'success'"-->
<!--                            disable-transitions>{{scope.row.tag}}-->
<!--                    </el-tag>-->
<!--                </template>-->
<!--            </el-table-column>-->
        </el-table>
        <el-pagination
                background
                layout="prev, pager, next"
                :total="1000">
        </el-pagination>
    </template>


</div>

<script src="js/jquery-3.3.1.js"></script>
<script src="js/vue.js"></script>
<!-- 引入组件库 -->
<script src="https://unpkg.com/element-ui/lib/index.js"></script>
<script>
    new Vue({
        el: "#app",
        data: {
            tableData: []

            // tableData: [{
            //     sale_name: '王小虎',
            //     sale_id: '123456',
            //     sale_sex: '男',
            //     sale_phone: '12345678901',
            //     mana_ord: '点我查看',
            //     mana_ges: '点我查看',
            //     // address: '上海市普陀区金沙江路 1518 弄',
            //     // tag: '家'
            // }, {
            //     name: '王小虎',
            //     sale_id: '123456',
            //     sex: '男',
            //     phone: '12345678901',
            //     mana_ord: '点我查看',
            //     mana_ges: '点我查看',
            //     // address: '上海市普陀区金沙江路 1518 弄',
            //     // tag: '公司'
            // }, {
            //     sale_name: '王小虎',
            //     sale_id: '123456',
            //     sex: '男',
            //     phone: '12345678901',
            //     mana_ord: '点我查看',
            //     mana_ges: '点我查看',
            //     // address: '上海市普陀区金沙江路 1518 弄',
            //     // tag: '家'
            // }, {
            //     name: '王小虎',
            //     sale_id: '123456',
            //     sex: '男',
            //     phone: '12345678901',
            //     mana_ord: '点我查看',
            //     mana_ges: '点我查看',
            //     // address: '上海市普陀区金沙江路 1518 弄',
            //     // tag: '公司'
            // }]
        },
        total: 20,
        mounted() {
            var this_ = this
            //页面加载完成，发送异步请求
            $.ajax({
                url: "/Salesman/querySalesman",
                data: {},
                type: "get",
                // async: false,//这里这里，要用同步请求
                async: true,
                dataType: "json",
                success: function (obj) {
                    this_.tableData = obj;
                    this_.total = obj.length;
                }
            })
        },
        methods: {
            resetDateFilter() {
                this.$refs.filterTable.clearFilter('date');
            },
            clearFilter() {
                this.$refs.filterTable.clearFilter();
            },
            formatter(row, column) {
                return row.address;
            },
            filterTag(value, row) {
                return row.tag === value;
            },
            filterHandler(value, row, column) {
                const property = column['property'];
                return row[property] === value;
            }
        }
    })

    //
    // export default {
    //     data() {
    //
    //         tableData: [{
    //             date: '2016-05-02',
    //             name: '王小虎',
    //             address: '上海市普陀区金沙江路 1518 弄',
    //             tag: '家'
    //         }, {
    //             date: '2016-05-04',
    //             name: '王小虎',
    //             address: '上海市普陀区金沙江路 1517 弄',
    //             tag: '公司'
    //         }, {
    //             date: '2016-05-01',
    //             name: '王小虎',
    //             address: '上海市普陀区金沙江路 1519 弄',
    //             tag: '家'
    //         }, {
    //             date: '2016-05-03',
    //             name: '王小虎',
    //             address: '上海市普陀区金沙江路 1516 弄',
    //             tag: '公司'
    //         }]
    //
    //     },
    //     methods: {
    //         resetDateFilter() {
    //             this.$refs.filterTable.clearFilter('date');
    //         },
    //         clearFilter() {
    //             this.$refs.filterTable.clearFilter();
    //         },
    //         formatter(row, column) {
    //             return row.address;
    //         },
    //         filterTag(value, row) {
    //             return row.tag === value;
    //         },
    //         filterHandler(value, row, column) {
    //             const property = column['property'];
    //             return row[property] === value;
    //         }
    //     }
    // }
</script>
</body>
</html>

